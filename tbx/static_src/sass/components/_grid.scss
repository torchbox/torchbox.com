// Grid setup - update any changes here in the grid.md docs file too
@use "config" as *;

.grid {
    display: grid;
    grid-template-columns: $grid-gutters repeat(4, 1fr) $grid-gutters;
    max-width: $site-width;
    margin: 0 auto;

    @include media-query(large) {
        grid-template-columns: $grid-gutters-large repeat(12, 1fr) $grid-gutters-large;
    }

    @include media-query(x-large) {
        grid-template-columns: $grid-gutters-x-large repeat(12, 1fr) $grid-gutters-x-large;
    }

    &--spacer-large {
        margin: $spacer-medium auto;

        @include media-query(large) {
            margin: $spacer-large auto;
        }
    }

    &__title {
        margin-bottom: $spacer-small;
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 4 / span 9;
        }
    }

    &__heading {
        margin-bottom: $spacer-mini;
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 4 / span 7;
        }
    }

    &__quote {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 4 / span 9;
        }
    }

    &__call-to-action {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 5;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 4 / span 12;
        }
    }

    &__contact-cta {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 5;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 5 / span 10;
        }
    }

    &__related-posts {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 5 / span 9;
        }
    }

    &__related-posts-simple,
    &__team-listing {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 12;
        }
    }

    &__wide-image {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 4 / span 11;
        }
    }

    &__partners {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 2 / span 12;
        }
    }

    &__work-image {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 1 / span 13;
        }

        img {
            width: 100%;
        }
    }

    &__work-title {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 3;
        }
    }

    &__showcase {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 2 / span 11;
        }
    }

    &__tabbed-paragraph {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 2 / span 12;
        }
    }

    &__team-image {
        margin-bottom: $spacer-small-plus;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-medium;
            grid-column: 4 / span 7;
        }
    }

    &__photo-collage {
        // right to the right-hand edge at mobile and tablet
        grid-column: 2 / span 5;

        @include media-query(large) {
            grid-column: 2 / span 11;
        }
    }

    &__promo,
    &__event {
        grid-column: 2 / span 4;
        margin-bottom: $spacer-medium;

        @include media-query(large) {
            grid-column: 2 / span 13;
            margin-bottom: $spacer;
        }
    }

    &__values-header {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 7;
        }
    }

    &__values {
        grid-column: 2 / span 4;
        margin-bottom: $spacer-medium;

        @include media-query(medium) {
            grid-column: 2 / span 4;
        }

        @include media-query(large) {
            grid-column: 3 / span 11;
            margin-bottom: $spacer-large;
        }
    }

    // The following components follow the same pattern of
    // spanning 7 columns on desktop and 4 columns on mobile.
    &__intro,
    &__paragraph,
    &__raw-html,
    &__markdown,
    &__embed,
    &__stats,
    &__image,
    &__video,
    &__mailchimp {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer-large;
            grid-column: 4 / span 7;
        }
    }

    // if paragraph is followed by a heading or another paragraph, reduce the bottom margin
    // so that it matches headings and paragraphs within a rich-text block
    &__paragraph:has(+ .grid__heading),
    &__paragraph:has(+ .grid__paragraph) {
        margin-bottom: $spacer-small;
        @include media-query(large) {
            margin-bottom: $spacer-medium;
        }
    }

    // Footer grid elements
    &__footer-line {
        grid-column: 1 / span 4;

        @include media-query(large) {
            grid-column: 1 / span 3;
        }
    }

    &__footer-contact {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 6;
        }
    }

    &__footer-links {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 10 / span 4;
        }
    }

    &__footer-logos {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 12;
        }
    }

    &__cookie-message {
        grid-column: 2 / span 4;

        @include media-query(large) {
            grid-column: 2 / span 12;
        }
    }

    // header and navigation grid elements
    &__header-logo {
        grid-column: 2 / span 2;

        @include media-query(medium) {
            grid-column: 2 / span 1;
        }
    }

    &__header-nav {
        display: none;

        @include media-query(medium) {
            display: block;
            grid-column: 3 / span 3;
        }

        @include media-query(large) {
            grid-column: 3 / span 11;
        }
    }

    &__header-toggle {
        grid-column: 5 / span 1;
    }

    // Move everything over by 1 column on the blog page and work pages
    .template-blog-page &,
    .template-work-page & {
        &__heading,
        &__intro,
        &__paragraph,
        &__image,
        &__raw-html,
        &__markdown,
        &__embed,
        &__video {
            @include media-query(large) {
                grid-column: 5 / span 7;
            }
        }

        &__title {
            @include media-query(large) {
                grid-column: 5 / span 9;
            }
        }

        &__call-to-action {
            @include media-query(large) {
                grid-column: 5 / span 10;
            }
        }

        &__quote {
            @include media-query(large) {
                grid-column: 5 / span 9;
            }
        }

        &__wide-image {
            @include media-query(large) {
                grid-column: 5 / span 11;
            }
        }

        &__stats {
            @include media-query(large) {
                grid-column: 5 / span 9;
            }
        }
    }

    &__featured-case-study {
        margin-bottom: $spacer-medium;
        grid-column: 2 / span 4;

        @include media-query(large) {
            margin-bottom: $spacer;
            grid-column: 1 / span 13;
        }
    }

    // Service page alignment
    .template-service-page & {
        &__heading,
        &__intro,
        &__title {
            @include media-query(large) {
                grid-column: 2 / span 9;
            }
        }

        &__raw-html,
        &__markdown,
        &__paragraph {
            @include media-query(large) {
                grid-column: 2 / span 7;
            }
        }

        &__quote {
            @include media-query(large) {
                grid-column: 2 / span 9;
            }
        }
    }

    .template-historical-work-page & {
        &__heading,
        &__intro,
        &__paragraph,
        &__image,
        &__raw-html,
        &__markdown,
        &__embed {
            @include media-query(large) {
                grid-column: 2 / span 7;
            }
        }

        &__title {
            @include media-query(large) {
                grid-column: 2 / span 9;
            }
        }

        &__call-to-action {
            @include media-query(large) {
                grid-column: 2 / span 10;
            }
        }

        &__quote {
            @include media-query(large) {
                grid-column: 2 / span 9;
            }
        }

        &__wide-image {
            @include media-query(large) {
                grid-column: 2 / span 11;
            }
        }

        &__stats {
            @include media-query(large) {
                grid-column: 2 / span 9;
            }
        }
    }

    // home page adjustments
    .template-homepage & {
        &__title {
            @include media-query(large) {
                grid-column: 3 / span 9;
            }
        }

        &__intro {
            @include media-query(large) {
                grid-column: 3 / span 6;
            }
        }

        &__partners {
            margin-bottom: $spacer;
        }
    }
}
