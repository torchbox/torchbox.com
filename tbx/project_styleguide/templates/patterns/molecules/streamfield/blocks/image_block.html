{% load wagtailcore_tags wagtailimages_tags %}

<div class="image grid__image">
    {% if value.image.is_gif %}
        {% image value.image width-800 %}
    {% else %}
        {% if value.remove_desaturation_filter %}
            {% if value.image_is_decorative %}
                {% srcset_image value.image format-webp width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" alt="" %}
            {% elif value.alt_text %}
                {% srcset_image value.image format-webp width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" alt=value.alt_text %}
            {% else %}
                {% srcset_image value.image format-webp width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" %}
            {% endif %}
        {% else %}
            {% if value.image_is_decorative %}
                {% srcset_image value.image format-webp saturation-0.6 width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" alt="" %}
            {% elif value.alt_text %}
                {% srcset_image value.image format-webp saturation-0.6 width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" alt=value.alt_text %}
            {% else %}
                {% srcset_image value.image format-webp saturation-0.6 width-{400,900,1800} sizes="(max-width: 1022px) 90vw, (max-width: 1879px) 50vw, (min-width: 1880px) 910px" loading="lazy" %}
            {% endif %}
        {% endif %}
    {% endif %}

    {% if value.caption %}
        <p class="image__caption supporting">{{ value.caption }}</p>
    {% endif %}

    {% if value.attribution %}
        <p class="image__attribution supporting">{{ value.attribution }}</p>
    {% endif %}
</div>
